"use strict";(self.webpackChunkbacalhau_docs=self.webpackChunkbacalhau_docs||[]).push([[5903],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>u});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),b=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=b(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=b(n),u=o,f=d["".concat(l,".").concat(u)]||d[u]||p[u]||r;return n?a.createElement(f,s(s({ref:t},c),{},{components:n})):a.createElement(f,s({ref:t},c))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var b=2;b<r;b++)s[b]=n[b];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2140:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>b});var a=n(7462),o=(n(7294),n(3905));const r={},s="Scripting Bacalhau with Python",i={unversionedId:"examples/workload-onboarding/python-script/index",id:"examples/workload-onboarding/python-script/index",title:"Scripting Bacalhau with Python",description:"Open In Colab",source:"@site/docs/examples/workload-onboarding/python-script/index.md",sourceDirName:"examples/workload-onboarding/python-script",slug:"/examples/workload-onboarding/python-script/",permalink:"/examples/workload-onboarding/python-script/",draft:!1,editUrl:"https://github.com/bacalhau-project/docs.bacalhau.org/blob/main/docs/examples/workload-onboarding/python-script/index.md",tags:[],version:"current",frontMatter:{},sidebar:"documentationSidebar",previous:{title:"R - Facebook Prophet - Custom Container",permalink:"/examples/workload-onboarding/r-custom-docker-prophet/"},next:{title:"Data Engineering",permalink:"/examples/data-engineering/"}},l={},b=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"Executing Bacalhau Jobs with Python Scripts",id:"executing-bacalhau-jobs-with-python-scripts",level:2},{value:"Next Steps",id:"next-steps",level:3}],c={toc:b};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"scripting-bacalhau-with-python"},"Scripting Bacalhau with Python"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://colab.research.google.com/github/bacalhau-project/examples/blob/main/workload-onboarding/python-script/index.ipynb"},(0,o.kt)("img",{parentName:"a",src:"https://colab.research.google.com/assets/colab-badge.svg",alt:"Open In Colab"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://mybinder.org/v2/gh/bacalhau-project/examples/HEAD?labpath=workload-onboarding/python-script/index.ipynb"},(0,o.kt)("img",{parentName:"a",src:"https://mybinder.org/badge.svg",alt:"Open In Binder"}))),(0,o.kt)("p",null,"Bacalhau allows you to easily execute batch jobs via the CLI. But sometimes you need to do more than that. You might need to execute a script that requires user input, or you might need to execute a script that requires a lot of parameters. In any case, you probably want to execute your jobs in a repeatable manner."),(0,o.kt)("p",null,"This example demonstrates a simple Python script that is able to orchestrate the execution of lots of jobs in a repeatable manner."),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Python"),(0,o.kt)("li",{parentName:"ul"},"The Bacalhau client - ",(0,o.kt)("a",{parentName:"li",href:"https://docs.bacalhau.org/getting-started/installation"},"Installation instructions"))),(0,o.kt)("h2",{id:"executing-bacalhau-jobs-with-python-scripts"},"Executing Bacalhau Jobs with Python Scripts"),(0,o.kt)("p",null,"To demonstrate this example, I will use the data generated from the ",(0,o.kt)("a",{parentName:"p",href:"/examples/data-engineering/blockchain-etl/"},"ethereum analysis example"),". This produced a list of hashes that I will iterate over and execute a job for each one."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"%%writefile hashes.txt\nbafybeihvtzberlxrsz4lvzrzvpbanujmab3hr5okhxtbgv2zvonqos2l3i\nbafybeifb25fgxrzu45lsc47gldttomycqcsao22xa2gtk2ijbsa5muzegq\nbafybeig4wwwhs63ly6wbehwd7tydjjtnw425yvi2tlzt3aii3pfcj6hvoq\nbafybeievpb5q372q3w5fsezflij3wlpx6thdliz5xowimunoqushn3cwka\nbafybeih6te26iwf5kzzby2wqp67m7a5pmwilwzaciii3zipvhy64utikre\nbafybeicjd4545xph6rcyoc74wvzxyaz2vftapap64iqsp5ky6nz3f5yndm\nbafybeicgo3iofo3sw73wenc3nkdhi263yytjnds5cxjwvypwekbz4sk7ra\nbafybeihvep5xsvxm44lngmmeysihsopcuvcr34an4idz45ixl5slsqzy3y\nbafybeigmt2zwzrbzwb4q2kt2ihlv34ntjjwujftvabrftyccwzwdypama4\nbafybeiciwui7sw3zqkvp4d55p4woq4xgjlstrp3mzxl66ab5ih5vmeozci\nbafybeicpmotdsj2ambf666b2jkzp2gvg6tadr6acxqw2tmdlmsruuggbbu\nbafybeigefo3esovbveavllgv5wiheu5w6cnfo72jxe6vmfweco5eq5sfty\nbafybeigvajsumnfwuv7lp7yhr2sr5vrk3bmmuhhnaz53waa2jqv3kgkvsu\nbafybeih2xg2n7ytlunvqxwqlqo5l3daykuykyvhgehoa2arot6dmorstmq\nbafybeihnmq2ltuolnlthb757teihwvvw7wophoag2ihnva43afbeqdtgi4\nbafybeibb34hzu6z2xgo6nhrplt3xntpnucthqlawe3pmzgxccppbxrpudy\nbafybeigny33b4g6gf2hrqzzkfbroprqrimjl5gmb3mnsqu655pbbny6tou\nbafybeifgqjvmzbtz427bne7af5tbndmvniabaex77us6l637gqtb2iwlwq\nbafybeibryqj62l45pxjhdyvgdc44p3suhvt4xdqc5jpx474gpykxwgnw2e\nbafybeidme3fkigdjaifkjfbwn76jk3fcqdogpzebtotce6ygphlujaecla\nbafybeig7myc3eg3h2g5mk2co7ybte4qsuremflrjneer6xk3pghjwmcwbi\nbafybeic3x2r5rrd3fdpdqeqax4bszcciwepvbpjl7xdv6mkwubyqizw5te\nbafybeihxutvxg3bw7fbwohq4gvncrk3hngkisrtkp52cu7qu7tfcuvktnq\nbafybeicumr67jkyarg5lspqi2w4zqopvgii5dgdbe5vtbbq53mbyftduxy\nbafybeiecn2cdvefvdlczhz6i4afbkabf5pe5yqrcsgdvlw5smme2tw7em4\nbafybeiaxh7dhg4krgkil5wqrv5kdsc3oewwy6ym4n3545ipmzqmxaxrqf4\nbafybeiclcqfzinrmo3adr4lg7sf255faioxjfsolcdko3i4x7opx7xrqii\nbafybeicjmeul7c2dxhmaudawum4ziwfgfkvbgthgtliggfut5tsc77dx7q\nbafybeialziupik7csmhfxnhuss5vrw37kmte7rmboqovp4cpq5hj4insda\nbafybeid7ecwdrw7pb3fnkokq5adybum6s5ok3yi2lw4m3edjpuy65zm4ji\nbafybeibuxwnl5ogs4pwa32xriqhch24zbrw44rp22hrly4t6roh6rz7j4m\nbafybeicxvy47jpvv3fi5umjatem5pxabfrbkzxiho7efu6mpidjpatte54\nbafybeifynb4mpqrbsjbeqtxpbuf6y4frrtjrc4tm7cnmmui7gbjkckszrq\nbafybeidcgnbhguyfaahkoqbyy2z525d3qfzdtbjuk4e75wkdbnkcafvjei\nbafybeiefc67s6hpydnsqdgypbunroqwkij5j26sfmc7are7yxvg45uuh7i\nbafybeiefwjy3o42ovkssnm7iihbog46k5grk3gobvvkzrqvof7p6xbgowi\nbafybeihpydd3ivtza2ql5clatm5fy7ocych7t4czu46sbc6c2ykrbwk5uu\nbafybeiet7222lqfmzogur3zlxqavlnd3lt3qryw5yi5rhuiqeqg4w7c3qu\nbafybeihwomd4ygoydvj5kh24wfwk5kszmst5vz44zkl6yibjargttv7sly\nbafybeidbjt2ckr4oooio3jsfk76r3bsaza5trjvt7u36slhha5ksoc5gv4\nbafybeifyjrmopgtfmswq7b4pfscni46doy3g3z6vi5rrgpozc6duebpmuy\nbafybeidsrowz46yt62zs64q2mhirlc3rsmctmi3tluorsts53vppdqjj7e\nbafybeiggntql57bw24bw6hkp2yqd3qlyp5oxowo6q26wsshxopfdnzsxhq\nbafybeidguz36u6wakx4e5ewuhslsfsjmk5eff5q7un2vpkrcu7cg5aaqf4\nbafybeiaypwu2b45iunbqnfk2g7bku3nfqveuqp4vlmmwj7o7liyys42uai\nbafybeicaahv7xvia7xojgiecljo2ddrvryzh2af7rb3qqbg5a257da5p2y\nbafybeibgeiijr74rcliwal3e7tujybigzqr6jmtchqrcjdo75trm2ptb4e\nbafybeiba3nrd43ylnedipuq2uoowd4blghpw2z7r4agondfinladcsxlku\nbafybeif3semzitjbxg5lzwmnjmlsrvc7y5htekwqtnhmfi4wxywtj5lgoe\nbafybeiedmsig5uj7rgarsjans2ad5kcb4w4g5iurbryqn62jy5qap4qq2a\nbafybeidyz34bcd3k6nxl7jbjjgceg5eu3szbrbgusnyn7vfl7facpecsce\nbafybeigmq5gch72q3qpk4nipssh7g7msk6jpzns2d6xmpusahkt2lu5m4y\nbafybeicjzoypdmmdt6k54wzotr5xhpzwbgd3c4oqg6mj4qukgvxvdrvzye\nbafybeien55egngdpfvrsxr2jmkewdyha72ju7qaaeiydz2f5rny7drgzta\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"Overwriting hashes.txt\n")),(0,o.kt)("p",null,"Now let's run the following script. There's a fair bit of code, but basically there's three core functions to submit, check the status of, and download the results from, a job. Then the main function wraps all of that in a ",(0,o.kt)("inlineCode",{parentName:"p"},"multiprocessing")," pool to execute the jobs in parallel. Feel free to copy this code and save it to your local machine as ",(0,o.kt)("inlineCode",{parentName:"p"},"bacalhau.py"),". Then you can execute this script anywhere with ",(0,o.kt)("inlineCode",{parentName:"p"},"python bacalhau.py"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'%%writefile bacalhau.py\nimport json, glob, os, multiprocessing, shutil, subprocess, tempfile, time\n\n# checkStatusOfJob checks the status of a Bacalhau job\ndef checkStatusOfJob(job_id: str) -> str:\n    assert len(job_id) > 0\n    p = subprocess.run(\n        ["bacalhau", "list", "--output", "json", "--id-filter", job_id],\n        stdout=subprocess.PIPE,\n        stderr=subprocess.PIPE,\n        text=True,\n    )\n    r = parseJobStatus(p.stdout)\n    if r == "":\n        print("job status is empty! %s" % job_id)\n    elif r == "Completed":\n        print("job completed: %s" % job_id)\n    else:\n        print("job not completed: %s - %s" % (job_id, r))\n\n    return r\n\n\n# submitJob submits a job to the Bacalhau network\ndef submitJob(cid: str) -> str:\n    assert len(cid) > 0\n    p = subprocess.run(\n        [\n            "bacalhau",\n            "docker",\n            "run",\n            "--id-only",\n            "--wait=false",\n            "--input-volumes",\n            cid + ":/inputs/data.tar.gz",\n            "ghcr.io/bacalhau-project/examples/blockchain-etl:0.0.6",\n        ],\n        stdout=subprocess.PIPE,\n        stderr=subprocess.PIPE,\n        text=True,\n    )\n    if p.returncode != 0:\n        print("failed (%d) job: %s" % (p.returncode, p.stdout))\n    job_id = p.stdout.strip()\n    print("job submitted: %s" % job_id)\n\n    return job_id\n\n\n# getResultsFromJob gets the results from a Bacalhau job\ndef getResultsFromJob(job_id: str) -> str:\n    assert len(job_id) > 0\n    temp_dir = tempfile.mkdtemp()\n    print("getting results for job: %s" % job_id)\n    for i in range(0, 5): # try 5 times\n        p = subprocess.run(\n            [\n                "bacalhau",\n                "get",\n                "--output-dir",\n                temp_dir,\n                job_id,\n            ],\n            stdout=subprocess.PIPE,\n            stderr=subprocess.PIPE,\n            text=True,\n        )\n        if p.returncode == 0:\n            break\n        else:\n            print("failed (exit %d) to get job: %s" % (p.returncode, p.stdout))\n\n    return temp_dir\n\n\n# parseJobStatus parses the status of a Bacalhau job\ndef parseJobStatus(result: str) -> str:\n    if len(result) == 0:\n        return ""\n    r = json.loads(result)\n    if len(r) > 0:\n        for _, v in r[0]["JobState"]["Nodes"].items():\n            state = v["Shards"]["0"]["State"]\n            if state == "Completed":\n                return state\n        for _, v in r[0]["JobState"]["Nodes"].items():\n            state = v["Shards"]["0"]["State"]\n            if state != "Cancelled":\n                return state\n        return "Error"\n    return ""\n\n\n# parseHashes splits lines from a text file into a list\ndef parseHashes(filename: str) -> list:\n    assert os.path.exists(filename)\n    with open(filename, "r") as f:\n        hashes = f.read().splitlines()\n    return hashes\n\n\ndef main(file: str, num_files: int = -1):\n    # Use multiprocessing to work in parallel\n    count = multiprocessing.cpu_count()\n    with multiprocessing.Pool(processes=count) as pool:\n        hashes = parseHashes(file)[:num_files]\n        print("submitting %d jobs" % len(hashes))\n        job_ids = pool.map(submitJob, hashes)\n        assert len(job_ids) == len(hashes)\n\n        print("waiting for jobs to complete...")\n        while True:\n            job_statuses = pool.map(checkStatusOfJob, job_ids)\n            total_finished = sum(map(lambda x: x == "Completed", job_statuses))\n            if total_finished >= len(job_ids):\n                break\n            print("%d/%d jobs completed" % (total_finished, len(job_ids)))\n            time.sleep(2)\n\n        print("all jobs completed, saving results...")\n        results = pool.map(getResultsFromJob, job_ids)\n        print("finished saving results")\n\n        # Do something with the results\n        shutil.rmtree("results", ignore_errors=True)\n        os.makedirs("results", exist_ok=True)\n        for r in results:\n            path = os.path.join(r, "combined_results", "outputs", "*.csv")\n            csv_file = glob.glob(path)\n            for f in csv_file:\n                print("moving %s to results" % f)\n                shutil.move(f, "results")\n\nif __name__ == "__main__":\n    main("hashes.txt", 10)\n\n')),(0,o.kt)("p",null,"This code has a few interesting features:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Change the value in the ",(0,o.kt)("inlineCode",{parentName:"li"},"main")," call to change the number of jobs to execute"),(0,o.kt)("li",{parentName:"ul"},"Because all jobs complete at different times, there's a loop to check that all jobs have completed before downloading the results -- if you don't do this you'll likely see an error when trying to download the results"),(0,o.kt)("li",{parentName:"ul"},"When downloading the results, the IPFS get often times out, so I wrapped that in a loop")),(0,o.kt)("p",null,"Let's run it!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"python bacalhau.py\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"submitting 10 jobs\njob submitted: 239f89b9-c9c2-4b24-b314-030f20d2ed86\njob submitted: 5ce48688-fe02-4514-a9d0-a16f43634e8a\njob submitted: 1ab7f06c-4c50-4617-8994-1904aa3bb1de\njob submitted: 04201261-467b-4985-9b25-dacd59a2b6ab\njob submitted: c2d181fd-ec3a-4320-abe2-01dd66784b5f\njob submitted: 99a1d838-4ecc-45aa-ba02-67afcf4eaa4c\njob submitted: 8d1bfc74-d623-45af-866d-d8d3100889e0\njob submitted: ff777c33-04c5-43ca-a291-397c6e11e297\njob submitted: 8cbfffa4-aef7-4413-9042-6776d5eddc33\njob submitted: 50f0a7f1-6619-4b7b-ad53-65858389a8cd\nwaiting for jobs to complete...\njob not completed: 8d1bfc74-d623-45af-866d-d8d3100889e0 - Waiting\njob not completed: 1ab7f06c-4c50-4617-8994-1904aa3bb1de - Waiting\njob not completed: 5ce48688-fe02-4514-a9d0-a16f43634e8a - Waiting\njob not completed: 04201261-467b-4985-9b25-dacd59a2b6ab - Waiting\njob not completed: ff777c33-04c5-43ca-a291-397c6e11e297 - Waiting\njob not completed: 99a1d838-4ecc-45aa-ba02-67afcf4eaa4c - Waiting\njob not completed: c2d181fd-ec3a-4320-abe2-01dd66784b5f - Waiting\njob not completed: 239f89b9-c9c2-4b24-b314-030f20d2ed86 - Waiting\njob not completed: 50f0a7f1-6619-4b7b-ad53-65858389a8cd - Waiting\njob not completed: 8cbfffa4-aef7-4413-9042-6776d5eddc33 - Waiting\n0/10 jobs completed\njob not completed: ff777c33-04c5-43ca-a291-397c6e11e297 - Waiting\njob not completed: 04201261-467b-4985-9b25-dacd59a2b6ab - Waiting\njob completed: 239f89b9-c9c2-4b24-b314-030f20d2ed86\njob not completed: 1ab7f06c-4c50-4617-8994-1904aa3bb1de - Waiting\njob not completed: c2d181fd-ec3a-4320-abe2-01dd66784b5f - Waiting\njob not completed: 8d1bfc74-d623-45af-866d-d8d3100889e0 - Waiting\njob completed: 99a1d838-4ecc-45aa-ba02-67afcf4eaa4c\njob completed: 5ce48688-fe02-4514-a9d0-a16f43634e8a\njob not completed: 50f0a7f1-6619-4b7b-ad53-65858389a8cd - Waiting\njob not completed: 8cbfffa4-aef7-4413-9042-6776d5eddc33 - Waiting\n3/10 jobs completed\njob completed: 5ce48688-fe02-4514-a9d0-a16f43634e8a\njob completed: c2d181fd-ec3a-4320-abe2-01dd66784b5f\njob completed: 04201261-467b-4985-9b25-dacd59a2b6ab\njob completed: 8d1bfc74-d623-45af-866d-d8d3100889e0\njob completed: ff777c33-04c5-43ca-a291-397c6e11e297\njob completed: 239f89b9-c9c2-4b24-b314-030f20d2ed86\njob completed: 99a1d838-4ecc-45aa-ba02-67afcf4eaa4c\njob completed: 1ab7f06c-4c50-4617-8994-1904aa3bb1de\njob completed: 8cbfffa4-aef7-4413-9042-6776d5eddc33\njob completed: 50f0a7f1-6619-4b7b-ad53-65858389a8cd\nall jobs completed, saving results...\ngetting results for job: c2d181fd-ec3a-4320-abe2-01dd66784b5f\ngetting results for job: 239f89b9-c9c2-4b24-b314-030f20d2ed86\ngetting results for job: 99a1d838-4ecc-45aa-ba02-67afcf4eaa4c\ngetting results for job: ff777c33-04c5-43ca-a291-397c6e11e297\ngetting results for job: 5ce48688-fe02-4514-a9d0-a16f43634e8a\ngetting results for job: 04201261-467b-4985-9b25-dacd59a2b6ab\ngetting results for job: 8d1bfc74-d623-45af-866d-d8d3100889e0\ngetting results for job: 1ab7f06c-4c50-4617-8994-1904aa3bb1de\ngetting results for job: 50f0a7f1-6619-4b7b-ad53-65858389a8cd\ngetting results for job: 8cbfffa4-aef7-4413-9042-6776d5eddc33\nfinished saving results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmpui2gdnta/combined_results/outputs/transactions_00000000_00049999.csv to results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmphktn81xx/combined_results/outputs/transactions_00050000_00099999.csv to results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmp15x2meyr/combined_results/outputs/transactions_00100000_00149999.csv to results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmp7md5a9yc/combined_results/outputs/transactions_00150000_00199999.csv to results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmpf_3mxm23/combined_results/outputs/transactions_00200000_00249999.csv to results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmpgybx5jqy/combined_results/outputs/transactions_00250000_00299999.csv to results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmpsvdyyig7/combined_results/outputs/transactions_00300000_00349999.csv to results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmpsjyrsujx/combined_results/outputs/transactions_00350000_00399999.csv to results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmpo76qn5fi/combined_results/outputs/transactions_00400000_00449999.csv to results\nmoving /var/folders/kr/pl4p96k11b55hp5_p9l_t8kr0000gn/T/tmp3xoyumpj/combined_results/outputs/transactions_00450000_00499999.csv to results\n")),(0,o.kt)("p",null,"Hopefully the results directory contains all the combined results from the jobs we just executed. Here's we're expecting to see csv files:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"ls -l results\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"total 40\n-rw-r--r-- 3 phil staff  55 Nov 29 11:16 transactions_00000000_00049999.csv\n-rw-r--r-- 3 phil staff 387 Nov 29 11:17 transactions_00050000_00099999.csv\n-rw-r--r-- 3 phil staff 388 Nov 29 11:17 transactions_00100000_00149999.csv\n-rw-r--r-- 3 phil staff 426 Nov 29 11:16 transactions_00150000_00199999.csv\n-rw-r--r-- 3 phil staff 393 Nov 29 11:17 transactions_00200000_00249999.csv\n-rw-r--r-- 3 phil staff 384 Nov 29 11:16 transactions_00250000_00299999.csv\n-rw-r--r-- 3 phil staff 421 Nov 29 11:16 transactions_00300000_00349999.csv\n-rw-r--r-- 3 phil staff 390 Nov 29 11:17 transactions_00350000_00399999.csv\n-rw-r--r-- 3 phil staff 347 Nov 29 11:17 transactions_00400000_00449999.csv\n-rw-r--r-- 3 phil staff 386 Nov 29 11:18 transactions_00450000_00499999.csv\n")),(0,o.kt)("p",null,"Success! We've now executed a bunch of jobs in parallel using Python. This is a great way to execute lots of jobs in a repeatable manner. You can alter the file above for your purposes."),(0,o.kt)("h3",{id:"next-steps"},"Next Steps"),(0,o.kt)("p",null,"You might also be interested in the following examples:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/examples/data-engineering/blockchain-etl/"},"Analysing Ethereum Data with Python"))))}p.isMDXComponent=!0}}]);