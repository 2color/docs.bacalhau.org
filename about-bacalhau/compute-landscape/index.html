<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Bacalhau Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Bacalhau Docs Atom Feed"><title data-react-helmet="true">Compute Over Data - Landscape Analysis | Bacalhau Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.bacalhau.org/about-bacalhau/compute-landscape"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Compute Over Data - Landscape Analysis | Bacalhau Docs"><meta data-react-helmet="true" name="description" content="This page is an introduction to a landscape analysis of general-purpose compute frameworks."><meta data-react-helmet="true" property="og:description" content="This page is an introduction to a landscape analysis of general-purpose compute frameworks."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.bacalhau.org/about-bacalhau/compute-landscape"><link data-react-helmet="true" rel="alternate" href="https://docs.bacalhau.org/about-bacalhau/compute-landscape" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.bacalhau.org/about-bacalhau/compute-landscape" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.2acfa8d9.css">
<link rel="preload" href="/assets/js/runtime~main.711cbefd.js" as="script">
<link rel="preload" href="/assets/js/main.367ba979.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Bacalhau Docs Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="Bacalhau Docs Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Bacalhau Docs</b></a><a class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/bacalhau-project/docs.bacalhau.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/about-bacalhau/architecture">About Bacalhau</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about-bacalhau/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/about-bacalhau/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/about-bacalhau/compute-landscape">Landscape</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/getting-started/installation">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/demos/list">Demos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/running-node/overview">Running a Node</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/cli-flags/all-flags">CLI Flags</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Compute Over Data - Landscape Analysis</h1><p>This page is an introduction to a landscape analysis of general-purpose compute frameworks.
Its purpose is to map the roughness of the existing technologies and serve as a background intro for those who are new to the Bacalhau community.</p><p>Feel free to watch the video below for a short walk-through and read the sections below.
More content is available on the <a href="https://docs.google.com/presentation/d/1wOh-ASGshgc1Ivkoyaz9zGpVGTxX9LDMZQB4-eXOBP4/edit?usp=sharing" target="_blank" rel="noopener noreferrer">full slide deck</a> and in the <a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks" target="_blank" rel="noopener noreferrer">code repository</a>, where you&#x27;ll find:</p><ul><li>Description of each technology and how their&#x27;re positioned in the compute space</li><li>A collection of code samples to showcase and compare their APIs</li><li>A performance benchmark to compare how they behave in processing a large  dataset</li></ul><p><a href="https://Winder.AI/comparison-computational-frameworks-spark-dask-snowflake/#video" target="_blank" rel="noopener noreferrer"><img src="/assets/images/summary_video-29ce8112622d71d8d0f5f87e4773e58f.png" width="888" height="499"></a></p><blockquote><p>The past can hurt. But the way I see it, you can either run from it, or learn from it. - <em>Walt Disney</em></p></blockquote><p>Ultimately Bacalhau aims at combining efficient distributed computation with ease of use, and to achieve that we shall learn from the past.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="compute-landscape">Compute Landscape<a class="hash-link" href="#compute-landscape" title="Direct link to heading">â€‹</a></h2><p>The traditional compute landscape counts several dozens of frameworks capable of processing generic workloads.
Some are specifically designed to take advantage of data locality by bringing the computation close to where data lives.
This landscape analysis reviewed a selection of these tools in order to summarize their pros and cons.</p><blockquote><p>The <a href="https://docs.google.com/presentation/d/1wOh-ASGshgc1Ivkoyaz9zGpVGTxX9LDMZQB4-eXOBP4/edit?usp=sharing" target="_blank" rel="noopener noreferrer">full slide deck</a> contains a detailed overview of the compute frameworks and include sample code snippets. </p></blockquote><p><img alt="Compute Framework Analysis" src="/assets/images/landscape-98f784b9f0ce01f307e79f3d83183d9d.png" width="1456" height="780"></p><p>The Python data stack includes tools like Pandas and Dask that offer a very convenient data structure named <a href="https://en.wikipedia.org/wiki/Dataframe" target="_blank" rel="noopener noreferrer">Dataframe</a>, particularly suitable for handling tabular data.</p><p>The database world offers a variety of choices optimized for different use cases (e.g. tabular data, real-time time series, etc.).
This research looked at Postgres and Snowflake, a couple of fairly generic tools in this space.</p><p>Big data tools like Apache Spark and Hadoop are also part of this analysis.
They are capable of processing structured and unstructured data in very large clusters.
This category introduced first the concept of data-locality to avoid data transfers over the cluster network.</p><p>Last but not least some web3 tools are also part of this analysis.
They aim at supporting distributed storage and computation.
Note that at the time of writing they&#x27;re under heavy development.
In many cases, it&#x27;s still unclear how they work and what direction they&#x27;ll take in the future.</p><p>Unfortunately, many of these systems are far from being easy to operate on your localhost or at scale.
Traditional frameworks are plagued by significant operational overhead resulting in inefficient resource usage.
Moreover, there&#x27;s often a significant setup burden even to running a getting started guide, setting a relatively high barrier to entry.</p><p>The table below summarizes their score in terms of different requirements.
That rating is based on the experience of setting up and running the code described in the next section, find more details on the <a href="https://docs.google.com/presentation/d/1wOh-ASGshgc1Ivkoyaz9zGpVGTxX9LDMZQB4-eXOBP4/edit#slide=id.g11f8b483676_0_87" target="_blank" rel="noopener noreferrer">slides</a>.</p><p><img alt="Compute Framework Analysis" src="/assets/images/landscape-table-0d853357138e4031db46e01729a024d6.png" width="1660" height="740"></p><p>Why is Bachalau not on this list?</p><p>This analysis is not a direct comparison between Bacalhau and existing frameworks.
Instead, this research aims at helping the Bacalhau community to learn the benefits and drawbacks of traditional systems.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="code-repository">Code repository<a class="hash-link" href="#code-repository" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="sample-code">Sample code<a class="hash-link" href="#sample-code" title="Direct link to heading">â€‹</a></h3><p>A good starting point to navigate the compute waters is taking a look at the <a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks" target="_blank" rel="noopener noreferrer">code repository</a> where you&#x27;ll find working examples of embarrassingly parallel workloads (e.g. <a href="https://en.wikipedia.org/wiki/Word_count" target="_blank" rel="noopener noreferrer">word count</a> , dataset aggregation, etc.).
Take a look at the dedicated folder for viewing the demos in a notebook format, no installation is needed.
Alternatively, you find the collection of examples on the <a href="https://docs.google.com/presentation/d/1wOh-ASGshgc1Ivkoyaz9zGpVGTxX9LDMZQB4-eXOBP4/edit#slide=id.g122e31b6546_0_0" target="_blank" rel="noopener noreferrer">slides</a>.</p><p>It&#x27;s informative to compare the verbosity and complexity between APIs.
For example, implementing a simple <a href="https://en.wikipedia.org/wiki/Word_count" target="_blank" rel="noopener noreferrer">word count</a> job <a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks/blob/main/sample-code/word-count/pandas.ipynb" target="_blank" rel="noopener noreferrer">in Pandas</a> is concise and can be achieved just by chaining methods, while <a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks/blob/main/sample-code/word-count/hadoop.ipynb" target="_blank" rel="noopener noreferrer">the Hadoop implementation</a> is far less intuitive, mainly because it&#x27;s bound to use <a href="https://en.wikipedia.org/wiki/MapReduce" target="_blank" rel="noopener noreferrer">the Map-Reduce paradigm</a>.</p><p><a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks#sample-code" target="_blank" rel="noopener noreferrer">Setup instructions</a> guide you through the installation process in case you&#x27;d like to run the examples yourself, and please give it a try to get an idea of how a simple single-node setup work.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="benchmarks">Benchmarks<a class="hash-link" href="#benchmarks" title="Direct link to heading">â€‹</a></h3><p>The <a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks" target="_blank" rel="noopener noreferrer">code repository</a> ships also benchmark scripts that run a parallel workload on a large dataset, time its execution, and log resource usage.
Explore the related section to familiarize yourself with the rough edges of <a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks#benchmarks" target="_blank" rel="noopener noreferrer">the installation process</a>.</p><p>You can choose to spawn either a <a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks/blob/main/installation/SINGLE-NODE.md" target="_blank" rel="noopener noreferrer">single-node</a> or <a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks/blob/main/installation/MULTI-NODE.md" target="_blank" rel="noopener noreferrer">multi-node</a> cluster.
Trying out <em>both</em> options is particoularly instructive for a firsthand experience with the local-to-cluster hurdles, as well as facing the complexities in installing a  framework such as Hadoop.</p><p>The benchmarked task is a <a href="https://en.wikipedia.org/wiki/Word_count" target="_blank" rel="noopener noreferrer">word count</a> job processing a dataset containing +1.7B words.
The plot below reports the benchmark running time for each framework, a missing bar imply that the tool doesn&#x27;t support a fully-fledged multi-node set-up (i.e can only scale vertically).
Performance across the landscape can vary 10x, that&#x27;s expected because Pandas is not a big-data tool, and Hadoop was not really designed to perform well on a single-node setup.
However, it&#x27;s surprising that only Spark and Snowflake provide a quite easy setup combined with quick processing and very low resource usage.</p><p><img alt="Compute Framework Benchmarks" src="/assets/images/landscape-benchmarks-a8f79eaf34970d6935609f81c6be6815.png" width="1246" height="766"></p><p>Check out <a href="https://docs.google.com/presentation/d/1wOh-ASGshgc1Ivkoyaz9zGpVGTxX9LDMZQB4-eXOBP4/edit#slide=id.g11c07429d0d_0_1091" target="_blank" rel="noopener noreferrer">the slides for a complete report on the benchmark results</a> or dive into the <a href="https://github.com/winderai/bacalhau-landscape-analysis-benchmarks" target="_blank" rel="noopener noreferrer">code repository</a> to spin up a cluster and run the benchmarks yourself.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="key-findings">Key findings<a class="hash-link" href="#key-findings" title="Direct link to heading">â€‹</a></h2><p>General</p><ul><li>Modern frameworks must be intuitive, canâ€™t impose a byzantine approach like <a href="https://en.wikipedia.org/wiki/MapReduce" target="_blank" rel="noopener noreferrer">MapReduce</a> (see Hadoop). High-level API is a must.</li><li>Installation is often a hurdle, must be stripped down to allow anyone to complete a getting-started.</li><li>Declarative pipelines are not quite a thing in these technologies.</li><li>Support for repeatable containerized jobs is needed. All frameworks don&#x27;t provide an effective way to package dependencies (<a href="https://docs.google.com/presentation/d/1wOh-ASGshgc1Ivkoyaz9zGpVGTxX9LDMZQB4-eXOBP4/edit#slide=id.g13641fb0d49_8_0" target="_blank" rel="noopener noreferrer">see Spark/Hadoop</a>).</li><li>The <a href="https://docs.google.com/presentation/d/1wOh-ASGshgc1Ivkoyaz9zGpVGTxX9LDMZQB4-eXOBP4/edit#slide=id.g11c07429d0d_0_1178" target="_blank" rel="noopener noreferrer">local to multi-node cluster journey</a> is quite rough and requires additional installations, configurations and a different approach to writing your code. This must be overcome going forward.</li></ul><p>Benchmark</p><ul><li>In Multi-node setups you may need to <a href="https://docs.google.com/presentation/d/1wOh-ASGshgc1Ivkoyaz9zGpVGTxX9LDMZQB4-eXOBP4/edit#slide=id.g13641fb0d49_8_6" target="_blank" rel="noopener noreferrer">optimize the cluster size</a>, which is a bummer (see Dask, Hadoop)</li><li>Tested vanilla configurations: tweaking knobs improves performance but adds complexity. Modern tools must provide out of the box experience (<a href="https://docs.google.com/presentation/d/1wOh-ASGshgc1Ivkoyaz9zGpVGTxX9LDMZQB4-eXOBP4/edit#slide=id.g11cf604b99b_0_236" target="_blank" rel="noopener noreferrer">see Snowflake setup</a>).</li><li>Except for Spark, these tools have poor performance with unsharded large files (i.e. strive to parallelize), thus a real life use case will require additional data preparation upstream.</li><li>Good to keep in mind these tools are optimized to tackle different use-cases and a different task may vary results. Anyway some strive to be as generic as possible (see Spark, Dask).</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/bacalhau-project/docs.bacalhau.org/blob/main/docs/about-bacalhau/compute-landscape.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/about-bacalhau/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/getting-started/installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installation</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#compute-landscape" class="table-of-contents__link toc-highlight">Compute Landscape</a></li><li><a href="#code-repository" class="table-of-contents__link toc-highlight">Code repository</a><ul><li><a href="#sample-code" class="table-of-contents__link toc-highlight">Sample code</a></li><li><a href="#benchmarks" class="table-of-contents__link toc-highlight">Benchmarks</a></li></ul></li><li><a href="#key-findings" class="table-of-contents__link toc-highlight">Key findings</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/getting-started/installation">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/about-bacalhau/introduction">About Bacalhau</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/bacalhau" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/bacalhau" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/bacalhau" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://docs.bacalhau.org/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/bacalhau-project/docs.bacalhau.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Bacalhau, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.711cbefd.js"></script>
<script src="/assets/js/main.367ba979.js"></script>
</body>
</html>